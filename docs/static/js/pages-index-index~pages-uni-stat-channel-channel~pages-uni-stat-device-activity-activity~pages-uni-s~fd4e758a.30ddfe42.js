(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index~pages-uni-stat-channel-channel~pages-uni-stat-device-activity-activity~pages-uni-s~fd4e758a"],{"2f52":function(t,e,n){"use strict";var r=n("54f2"),a=n.n(r);a.a},"362e":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-tooltip"},[t._t("default"),t.content||t.$slots.content?n("v-uni-view",{staticClass:"uni-tooltip-popup",style:t.initPlacement},[t._t("content",[t._v(t._s(t.content))])],2):t._e()],2)},a=[]},3696:function(t,e,n){"use strict";n.r(e);var r=n("4d70"),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"4d70":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"uni-tooltip",data:function(){return{}},methods:{},computed:{initPlacement:function(){var t={};switch(this.placement){case"left":t={top:"50%",transform:"translateY(-50%)",right:"100%","margin-right":"10rpx"};break;case"right":t={top:"50%",transform:"translateY(-50%)",left:"100%","margin-left":"10rpx"};break;case"top":t={bottom:"100%",transform:"translateX(-50%)",left:"50%","margin-bottom":"10rpx"};break;case"bottom":t={top:"100%",transform:"translateX(-50%)",left:"50%","margin-top":"10rpx"};break}return t}},props:{content:{type:String,default:""},placement:{type:String,default:"bottom"}}};e.default=r},"54f2":function(t,e,n){var r=n("76d1");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("967d").default;a("3a80a38a",r,!0,{sourceMap:!1,shadowMode:!1})},"76d1":function(t,e,n){var r=n("c86c");e=r(!1),e.push([t.i,".uni-tooltip[data-v-1c64269f]{position:relative;cursor:pointer;display:inline-block}.uni-tooltip-popup[data-v-1c64269f]{z-index:1;display:none;position:absolute;background-color:#333;border-radius:8px;color:#fff;font-size:12px;text-align:left;line-height:16px;padding:12px;overflow:auto}.uni-tooltip:hover .uni-tooltip-popup[data-v-1c64269f]{display:block}",""]),t.exports=e},"777c":function(t,e,n){"use strict";(function(t){n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.createUniStatQuery=function(t){return Object.assign({},t,{type:"native_app",create_env:"uni-stat"})},e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null;return function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(r,i)}),e)}},e.division=f,e.fileToUrl=function(t){for(var e in v)if(v.hasOwnProperty(e)){var n=v[e];if(n===t)return e}var r=(window.URL||window.webkitURL).createObjectURL(t);return v[r]=t,r},e.fillTrendChartData=function(t,e,n){var r=e.start_time,a=e.dimension;if(["hour","day"].indexOf(a)>-1){var i,o=[];"hour"===a?i=36e5:"day"===a&&(i=864e5);var u=r[0],f=r[1],c=u;o=[u];while(c+i<=f)c+=i,o.push(c);for(var l=[],s=function(e){var r=o[e],a=t.find((function(t,e){return t.start_time===r}));if(a)l.push(a);else{var i={start_time:r};n.map((function(t,e){i[t.field]=0})),l.push(i)}},d=0;d<o.length;d++)s(d);return l}return t},e.format=c,e.formatDate=l,e.formatterData=function(t){var e=t.fieldsMap,n=t.data,r=t.formatter,a=void 0===r||r,i=JSON.parse(JSON.stringify(n));return i.map((function(t){var n=function(n){var r=e.find((function(t){return t.field==n}));if("object"===(0,o.default)(r)){var i=r.fix,u=void 0===i?0:i;"number"===typeof r.multiple&&"number"===typeof t[n]&&(t[n]=Number((t[n]*r.multiple).toFixed(u))),a&&r.formatter&&"number"===typeof t[n]&&(","===r.formatter?t[n]=function(t){return String(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")}(t[n]):"%"===r.formatter?t[n]="".concat((100*t[n]).toFixed(u),"%"):"-"===r.formatter&&(t[n]=s(t[n])))}};for(var r in t)n(r)})),i},e.getAllDateCN=function(t,e){var n=[],r=0;while(e.getTime()-t.getTime()>=0)n[r]=t.getTime(),t.setDate(t.getDate()+1),r+=1;return n},e.getFieldTotal=function(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"total_devices";"object"===(0,o.default)(r)&&(r=u(r,!1,["uni_platform"]));var i=t.database();return i.collection("uni-stat-result").where(r).field("".concat(a," as temp_").concat(a,", start_time")).groupBy("start_time").groupField("sum(temp_".concat(a,") as ").concat(a)).orderBy("start_time","desc").get().then((function(t){var r=t.result.data;return e=r.length&&r[0][a],e=c(e),n.panelData&&n.panelData.forEach((function(t){t.field===a&&(t.value=e)})),Promise.resolve(e)}))},e.getTimeOfSomeDayAgo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=new Date(e),r=864e5,a=[n.getFullYear(),n.getMonth()+1,n.getDate()].join("/");a+=" 00:00:00";var i=new Date(a).getTime()-r*t;return i},e.mapfields=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"value",u=[],l=n;t=JSON.parse(JSON.stringify(t));var s,d=JSON.parse(JSON.stringify(e)),p=(0,i.default)(t);try{for(p.s();!(s=p.n()).done;){var v=s.value,g=v.field,m=v.computed,h=v.formatter,y=v.disable,b=v.fix;if(!y){n=l||v;var w=n.hasOwnProperty(o),x=r+g;if(e){var _=e[x];if(m){var D=m.split("/"),O=(0,a.default)(D,2),j=O[0],M=O[1];j=Number(d[r+j]),M=Number(d[r+M]);var S=c(f(j,M),h,b);w&&g===n.field?n[o]=S:n[g]=S}else if(_){var F=c(_,h,b);w?n.field===g&&(n[o]=F):n[g]=F}}w&&u.push(n)}}}catch(k){p.e(k)}finally{p.f()}return u},e.maxDeltaDay=p,e.parseDateTime=s,e.stringifyField=function(t,e,n){e&&(t=t.filter((function(t){return t.field===e})));n&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(n)})));var r=t.map((function(t){var e=[];return t.computed?e=t.computed.split("/"):e.push(t.field),e=e.map((function(e){return-1===t.stat?e:"".concat(e," as ").concat("temp_"+e)})),e.join()}));return r.join()},e.stringifyGroupField=function(t,e,n){e&&(t=t.filter((function(t){return t.field===e})));n&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(n)})));var r=t.map((function(t){var e=t.stat,n=[];return t.computed?n=t.computed.split("/"):n.push(t.field),n=n.map((function(t){if(-1!==e)return"".concat(e||"sum","(").concat("temp_"+t,") as ").concat(t)})),n.filter(Boolean).join()})).filter(Boolean).join();return r},e.stringifyQuery=u;var a=r(n("5de6")),i=r(n("3471")),o=r(n("fcf3"));function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],a=Object.keys(t),i=t.start_time;a.forEach((function(a){if("time_range"!==a&&-1===n.indexOf(a)){var o=t[a];if(o)if("string"===typeof o&&o.indexOf(a)>-1)r.push(o);else if("string"===typeof o&&(o='"'.concat(o,'"')),Array.isArray(o))2===o.length&&a.indexOf("time")>-1?r.push("".concat(a," >= ").concat(o[0]," && ").concat(a," <= ").concat(o[1])):(o=o.map((function(t){return"".concat(a,' == "').concat(t,'"')})).join(" || "),o&&r.push("(".concat(o,")")));else if(e&&"dimension"===a)if(p(i))r.push('dimension == "hour"');else{var u=getCurrentPages(),f=u[u.length-1];["pages/uni-stat/device/trend/trend","pages/uni-stat/user/trend/trend"].indexOf(f.route)>-1||o&&'"hour"'!==o?r.push("".concat(a," == ").concat(o)):r.push('dimension == "day"')}else r.push("".concat(a," == ").concat(o))}}));var o=r.join(" && ");return o||{}}function f(t,e){return e?t/e:0}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2?arguments[2]:void 0;if("number"!==typeof t)return t;if("%"===e)return t*=100,String(t).indexOf(".")>-1&&(t=t.toFixed(2)),t=t?t+e:t,t;if("%%"===e)return t=Number(t),t.toFixed(2)+"%";if("-"===e)return l(t,"day");if(":"===e){var r,a,i;t=Math.ceil(t),r=a=i=0;var o=3600,u=60;if(t>=o){r=Math.floor(t/o);var f=t%o;f>=u?(a=Math.floor(f/u),i=f%u):i=f}else o>=t&&t>=u?(a=Math.floor(t/u),i=t%u):i=t;var c=[r,a,i].map((function(t){return t<10?"0"+t:t}));return c.join(e)}return","===e?t.toLocaleString():(String(t).indexOf(".")>-1&&(t=Math.abs(t)>1?t.toFixed(n||0):t.toFixed(n||2)),t)}function l(t,e){var n=new Date(t);if("hour"===e){var r=n.getHours();r=r<10?"0"+r:r;var a="".concat(r,":00 ~ ").concat(r,":59");if("00"===r){var i=s(n);a=i+"（00:00 ~ 00:59）"}return a}if("week"===e){var o=n.getDate()-n.getDay()+1,u=o+6,f=new Date(n.setDate(o));f=s(f);var c=new Date(n.setDate(u));return c=s(c),"".concat(f," ~ ").concat(c)}if("month"===e){var l=new Date(n.getFullYear(),n.getMonth(),1);l=s(l);var d=new Date(n.getFullYear(),n.getMonth()+1,0);return d=s(d),"".concat(l," ~ ").concat(d)}return s(n)}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=t;"object"!==(0,o.default)(r)&&(r=new Date(r));var a=r.getFullYear(),i=r.getMonth()+1,u=r.getDate(),f=r.getHours(),c=r.getMinutes(),l=r.getSeconds(),s=[a,d(i),d(u)].join(n),p=[d(f),d(c),d(l)].join(":");return"dateTime"===e?s+" "+p:s}function d(t){return t<10?"0"+t:t}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!t.length)return!0;var n=864e5,r=(0,a.default)(t,2),i=r[0],o=r[1],u=o-i<n*e;return u}n("5c47"),n("a1c1"),n("d4b5"),n("fd3c"),n("aa77"),n("bf0f"),n("64aa"),n("5ef2"),n("aa9c"),n("dc8a"),n("2797"),n("c223"),n("8f71"),n("18f7"),n("de6c"),n("dc89"),n("2425");var v={}}).call(this,n("861b")["default"])},f3dd:function(t,e,n){"use strict";n.r(e);var r=n("362e"),a=n("3696");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("2f52");var o=n("828b"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"1c64269f",null,!1,r["a"],void 0);e["default"]=u.exports}}]);